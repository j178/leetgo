**ä¸­æ–‡ | [English](./README.md)**

# Leetgo

[![Go Report Card](https://goreportcard.com/badge/github.com/j178/leetgo)](https://goreportcard.com/report/github.com/j178/leetgo)
[![CI](https://github.com/j178/leetgo/actions/workflows/ci.yaml/badge.svg)](https://github.com/j178/leetgo/actions/workflows/ci.yaml)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://makeapullrequest.com)
[![Discord](https://img.shields.io/discord/1069106479744962582?label=discord&logo=discord)](https://discord.gg/bHsEwQQj9m)
[![Twitter Follow](https://img.shields.io/twitter/follow/niceoe)](https://twitter.com/niceoe)


`leetgo` æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¸®åŠ©ä½ ç®¡ç† LeetCode ä»£ç ã€ç®€åŒ–å¸¸ç”¨çš„ LeetCode æ“ä½œï¼Œè®©è§£é¢˜æ›´è½»æ¾~

`leetgo` å¯ä»¥è‡ªåŠ¨ç”Ÿæˆé¢˜ç›®æè¿°ã€æ ·ä¾‹ä»£ç ï¼Œæœ€ç‰¹åˆ«çš„æ˜¯è¿˜å¯ä»¥ç”Ÿæˆæµ‹è¯•ä»£ç ï¼Œè®©ä½ çš„ä»£ç å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œã€æµ‹è¯•ï¼Œä½ å¯ä»¥ä½¿ç”¨å–œæ¬¢çš„ Debugger æ¥è°ƒè¯•ä»£ç ä¸­çš„é—®é¢˜ã€‚

`leetgo` è¿˜æ”¯æŒç«èµ›æ¨¡å¼ï¼Œè‡ªåŠ¨ç­‰å¾…æ¯”èµ›çš„å¼€å§‹æ—¶é—´ï¼Œç¬¬ä¸€æ—¶é—´ä¸ºä½ ç”Ÿæˆæ‰€æœ‰æ¯”èµ›é¢˜ç›®ï¼Œå¹¶ä¸”å¯ä»¥ä¸€é”®æäº¤æ‰€æœ‰é¢˜ç›®ï¼Œè®©ä½ çš„æ’åæ›´è¿›ä¸€æ­¥ã€‚

[![asciicast](https://asciinema.org/a/7R2lnZj7T0hEuJ49SH2lZ04NG.svg)](https://asciinema.org/a/7R2lnZj7T0hEuJ49SH2lZ04NG)

## ä¸»è¦ç‰¹æ€§

- è‡ªåŠ¨ä¸ºé¢˜ç›®ç”Ÿæˆæè¿°ã€æ ·ä¾‹ä»£ç ã€æµ‹è¯•ä»£ç 
- é€šè¿‡æ¨¡æ¿å¼•æ“è‡ªå®šä¹‰é…ç½®ç”Ÿæˆçš„ä»£ç æ–‡ä»¶ï¼Œæ”¯æŒå¯¹ä»£ç åšé¢„å¤„ç†
- æ”¯æŒæœ¬åœ°æµ‹è¯•ï¼Œå¯ä»¥ä½¿ç”¨ Debugger è°ƒè¯•ä»£ç 
- è‡ªåŠ¨ç­‰å¾…å¹¶åŠæ—¶ç”Ÿæˆç«èµ›é¢˜ç›®ï¼Œä¸€é”®æäº¤æ‰€æœ‰é¢˜ç›®
- åŒæ—¶æ”¯æŒ leetcode.com (ç¾å›½ç«™) å’Œ leetcode.cn (ä¸­å›½ç«™)
- è‡ªåŠ¨ä»æµè§ˆå™¨ä¸­è¯»å– LeetCode çš„ Cookieï¼Œæ— éœ€æ‰‹åŠ¨æä¾›
- è‡ªåŠ¨åœ¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨ä¸­æ‰“å¼€ç”Ÿæˆçš„ä»£ç æ–‡ä»¶

## ç¼–ç¨‹è¯­è¨€æ”¯æŒ

`leetgo` å¯ä»¥ä¸ºå¤§å¤šæ•°è¯­è¨€ç”Ÿæˆæ ·ä¾‹ä»£ç ï¼Œä»¥åŠä¸ºéƒ¨åˆ†è¯­è¨€ç”Ÿæˆæœ¬åœ°æµ‹è¯•ä»£ç ã€‚

æœ¬åœ°æµ‹è¯•æ„å‘³ç€ä½ å¯ä»¥åœ¨ä½ çš„æœºå™¨ä¸Šè¿è¡Œä½ çš„ä»£ç ï¼Œè¾“å…¥æµ‹è¯•æ ·ä¾‹æ¯”å¯¹ç»“æœï¼Œä½ å¯ä»¥ä½¿ç”¨ Debugger æ¥å•æ­¥è°ƒè¯•ä½ çš„ä»£ç ï¼Œæ›´å®¹æ˜“çš„æ‰¾å‡ºä»£ç ä¸­çš„é—®é¢˜ã€‚

æœ¬åœ°æµ‹è¯•éœ€è¦ä¸ºæ¯ä¸€ç§è¯­è¨€åšå•ç‹¬çš„é€‚é…ï¼Œæ‰€ä»¥ç›®å‰ä»…æ”¯æŒéƒ¨åˆ†è¯­è¨€(å…¶å®åªæ”¯æŒ Go)ï¼Œä¸‹è¡¨æ˜¯ç›®å‰çš„æ”¯æŒæƒ…å†µï¼š

<!-- BEGIN MATRIX -->
|  | Generation | Local testing |
| --- | --- | --- |
| Go | :white_check_mark: | :white_check_mark: |
| Python | :white_check_mark: | Not yet |
| C++ | :white_check_mark: | Not yet |
| Rust | :white_check_mark: | Not yet |
| Java | :white_check_mark: | Not yet |
| JavaScript | :white_check_mark: | Not yet |
| PHP | :white_check_mark: | Not yet |
| C | :white_check_mark: | Not yet |
| C# | :white_check_mark: | Not yet |
| Ruby | :white_check_mark: | Not yet |
| Swift | :white_check_mark: | Not yet |
| Kotlin | :white_check_mark: | Not yet |
| Bash | :white_check_mark: | Not yet |
| MySQL | :white_check_mark: | Not yet |
| MSSQL | :white_check_mark: | Not yet |
| Oracle | :white_check_mark: | Not yet |
<!-- END MATRIX -->
å…¶ä»–çƒ­é—¨è¯­è¨€çš„æ”¯æŒéƒ½åœ¨è®¡åˆ’ä¸­ï¼Œå¦‚æœä½ æœ‰å…´è¶£çš„è¯ï¼Œæ¬¢è¿åŠ å…¥æˆ‘ä»¬ğŸ‘ğŸ»

## å®‰è£…

ä½ å¯ä»¥ç›´æ¥ä» [release é¡µé¢](https://github.com/j178/leetgo/releases) ä¸‹è½½æœ€æ–°çš„å¯æ‰§è¡Œç¨‹åºï¼Œæ·»åŠ å¯æ‰§è¡Œæƒé™ã€åŠ å…¥ `PATH` åä½¿ç”¨ã€‚

### ä½¿ç”¨ `go install`
 
```shell
git clone git@github.com:j178/leetgo.git
cd leetgo && go install
```

### macOS/Linux ä½¿ç”¨ [HomeBrew](https://brew.sh/)

```shell
brew install j178/tap/leetgo
```

### Windows ä½¿ç”¨ [Scoop](https://scoop.sh/)

```shell
scoop bucket add j178 https://github.com/j178/scoop-bucket.git
scoop install j178/leetgo
```

## ä½¿ç”¨
<!-- BEGIN USAGE -->
```
Usage:
  leetgo [command]

Available Commands:
  init                    Init a leetcode workspace
  pick                    Generate a new question
  info                    Show question info
  test                    Run question test cases
  submit                  Submit solution
  fix                     Use OpenAI GPT-3 API to fix your solution code (just for fun)
  edit                    Open solution in editor
  extract                 Extract solution code from generated file
  contest                 Generate contest questions
  cache                   Manage local questions cache
  config                  Show configurations
  help                    Help about any command

Flags:
  -v, --version       version for leetgo
  -l, --lang string   language of code to generate: cpp, go, python ...
  -y, --yes           answer yes to all prompts
  -h, --help          help for leetgo

Use "leetgo [command] --help" for more information about a command.
```
<!-- END USAGE -->

### é¢˜ç›®æ ‡å¿—ç¬¦ `qid`

è®¸å¤š `leetgo` å‘½ä»¤éƒ½ä¾èµ– `qid` æ¥å®šä½ LeetCode é¢˜ç›®ã€‚`qid` æ˜¯ `leetgo` å®šä¹‰çš„ä¸€ç§ç®€åŒ–çš„é¢˜ç›®æ ‡å¿—ç¬¦ï¼Œç›®çš„æ˜¯è®©æŒ‡å®šä¸€ä¸ªé¢˜ç›®æ›´ç®€å•ï¼Œæ”¯æŒå¤šç§å½¢å¼ï¼š

```shell
leetgo pick two-sum          # two-sum æ˜¯é¢˜ç›®çš„ slugï¼Œæ˜¯æœ€å‡†ç¡®çš„ qid
leetgo pick 1                # 1 æ˜¯é¢˜ç›®çš„ ID
leetgo pick today            # today è¡¨ç¤ºä»Šå¤©çš„æ¯æ—¥ä¸€é¢˜
leetgo contest weekly100     # weekly100 è¡¨ç¤ºç¬¬100åœºå‘¨èµ›
leetgo test last             # last è¡¨ç¤ºæœ€è¿‘ä¸€ä¸ªç”Ÿæˆçš„é¢˜ç›®
leetgo test weekly100/1      # weekly100/1 è¡¨ç¤ºç¬¬100åœºå‘¨èµ›çš„ç¬¬ä¸€ä¸ªé¢˜ç›®
leetgo submit b100/2         # b100/2 è¡¨ç¤ºç¬¬100åœºåŒå‘¨èµ›çš„ç¬¬äºŒä¸ªé¢˜ç›®
leetgo submit w99/           # w99 è¡¨ç¤ºç¬¬99åœºå‘¨èµ›çš„æ‰€æœ‰é¢˜ç›® (å¿…é¡»è¦ä¿ç•™æœ«å°¾çš„æ–œæ ï¼Œå¦åˆ™ä¸ä¼šè¯†åˆ«ä¸ºå‘¨èµ›é¢˜ç›®)
leetgo test last/1           # last/1 è¡¨ç¤ºæœ€è¿‘ç”Ÿæˆçš„æ¯”èµ›çš„ç¬¬ä¸€ä¸ªé¢˜ç›®
leetgo test last/            # last/ è¡¨ç¤ºæœ€è¿‘ç”Ÿæˆçš„æ¯”èµ›çš„æ‰€æœ‰é¢˜ç›® (å¿…é¡»è¦ä¿ç•™æœ«å°¾çš„æ–œæ )
```

## é…ç½®è¯´æ˜

`leetgo` ä½¿ç”¨ä¸¤çº§é…ç½®ç»“æ„ï¼šå…¨å±€é…ç½®å’Œé¡¹ç›®é…ç½®ã€‚

å…¨å±€é…ç½®ä½äº `~/.config/leetgo/config.yaml`ï¼Œé¡¹ç›®é…ç½®æ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸­çš„ `leetgo.yaml` æ–‡ä»¶ã€‚ ä»–ä»¬éƒ½æ˜¯åœ¨ `leetgo init` åˆå§‹åŒ–è¿‡ç¨‹ä¸­ç”Ÿæˆçš„ã€‚

é¡¹ç›®é…ç½®ä¼šè¦†ç›–å…¨å±€é…ç½®ä¸­çš„ç›¸åŒé…ç½®ã€‚é€šå¸¸ä½¿ç”¨å…¨å±€é…ç½®ä½œä¸ºé»˜è®¤çš„é…ç½®ï¼Œç„¶ååœ¨å„ä¸ªé¡¹ç›®ä¸­è°ƒæ•´ `leetgo.yaml` æ¥è‡ªå®šä¹‰é¡¹ç›®ä¸­çš„é…ç½®ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´é…ç½®çš„å±•ç¤ºï¼š

<!-- BEGIN CONFIG -->
```yaml
# Your name
author: Bob
# Language of the question description: zh or en
language: zh
# Code configuration
code:
  # Language of code generated for questions: go, python, ... 
  # (will be override by project config and flag --lang)
  lang: go
  # The default template to generate filename (without extension), e.g. {{.Id}}.{{.Slug}}
  # Available attributes: Id, Slug, Title, Difficulty, Lang, SlugIsMeaningful
  # Available functions: lower, upper, trim, padWithZero, toUnderscore
  filename_template: '{{ .Id | padWithZero 4 }}{{ if .SlugIsMeaningful }}.{{ .Slug }}{{ end }}'
  # Functions that modify the generated code
  modifiers:
    - name: removeUselessComments
  go:
    out_dir: go
    # Overrides the default code.filename_template
    filename_template: ""
    # Replace some blocks of the generated code
    blocks:
      - name: beforeMarker
        template: |
          package main

          {{ if .NeedsDefinition -}} import . "github.com/j178/leetgo/testutils/go" {{- end }}
    # Functions that modify the generated code
    modifiers:
      - name: removeUselessComments
      - name: changeReceiverName
      - name: addNamedReturn
      - name: addMod
    # Go module path for the generated code
    go_mod_path: ""
  python3:
    out_dir: python
    # Overrides the default code.filename_template
    filename_template: ""
  cpp:
    out_dir: cpp
    # Overrides the default code.filename_template
    filename_template: ""
  java:
    out_dir: java
    # Overrides the default code.filename_template
    filename_template: ""
  rust:
    out_dir: rust
    # Overrides the default code.filename_template
    filename_template: ""
# LeetCode configuration
leetcode:
  # LeetCode site, https://leetcode.com or https://leetcode.cn
  site: https://leetcode.cn
  # Credentials to access LeetCode
  credentials:
    # How to provide credentials: browser, cookies, password or none
    from: browser
    # LeetCode cookie: LEETCODE_SESSION
    session: ""
    # LeetCode cookie: csrftoken
    csrftoken: ""
    # LeetCode username
    username: ""
    # Encrypted LeetCode password
    password: ""
contest:
  # Base dir to put generated contest questions
  out_dir: contest
  # Template to generate filename of the question
  filename_template: '{{ .ContestShortSlug }}/{{ .Id }}{{ if .SlugIsMeaningful }}.{{ .Slug }}{{ end }}'
  # Open the contest page in browser after generating
  open_in_browser: true
# The editor to open generated files
editor:
  # Use a predefined editor: vim, vscode, goland
  # Set to 'none' to disable, set to 'custom' to provide your own command
  use: none
  # Custom command to open files
  command: ""
  # Arguments to the command
  args: []
```
<!-- END CONFIG -->

## LeetCode æ”¯æŒæƒ…å†µ

`leetgo` ä½¿ç”¨ LeetCode çš„ GraphQL API æ¥è·å–é¢˜ç›®å’Œæäº¤ä»£ç ï¼Œ`leetgo` éœ€è¦ LeetCode çš„ Cookie æ¥ä»£æ›¿ä½ åšè¿™äº›äº‹æƒ…ã€‚

æœ‰ä¸‰ç§æ–¹å¼ä¸º `leetgo` æä¾›è®¤è¯:

- ä»æµè§ˆå™¨ä¸­ç›´æ¥è¯»å–ã€‚
  
  è¿™æ˜¯æœ€æ–¹ä¾¿çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯é»˜è®¤çš„è¡Œä¸ºã€‚ç›®å‰æ”¯æŒ Chromeï¼ŒFireFoxï¼ŒSafari[^1]ï¼ŒEdgeã€‚

  å¦‚æœä½ éœ€è¦å…¶ä»–æµè§ˆå™¨çš„æ”¯æŒï¼Œè¯·å‘Šè¯‰æˆ‘ä»¬~

  ```yaml
  leetcode:
    credentials:
      from: browser
  ```

- åœ¨é…ç½®æ–‡ä»¶ä¸­æä¾› Cookie
  
  ä½ éœ€è¦æ‰“å¼€ LeetCode é¡µé¢ï¼Œä»æµè§ˆå™¨çš„ DevTools ä¸­è·å– `LEETCODE_SESSION` å’Œ `csrftoken` è¿™ä¸¤ä¸ª Cookie çš„å€¼ã€‚

  ```yaml
  leetcode:
    credentials:
      from: cookies
      session: xxx
      csrftoken: xx
  ```

- åœ¨é…ç½®æ–‡ä»¶ä¸­æä¾› ç”¨æˆ·åå’Œå¯†ç 

  åœ¨é…ç½®å¯†ç å‰ï¼Œä½ éœ€è¦ä½¿ç”¨ `leetgo config encrypt` æ¥åŠ å¯†ä½ çš„å¯†ç ï¼Œ`leetgo` **ç¦æ­¢**åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨æ˜æ–‡å¯†ç ã€‚

  ```yaml
  leetcode:
    credentials:
      from: password
      username: xxx
      password: |
        $LEETGO_VAULT;1.1;AES256
        61393232326161303064373437376538646432623336363563623935333863653666623633376466
        3836633339643934383061363239333833333634373137620a303466626335633332393336326564
        31633231333934323165376362646630643132626130626136326163333133663762356264353564
        6562653462396335300a313761363531363961656364366634666562663061633161366463393339
        3963
  ```

**æ³¨æ„**: ä¸æ¨èä½¿ç”¨ç”¨æˆ·åå¯†ç çš„è®¤è¯æ–¹å¼, è€Œä¸” `leetcode.com` (ç¾å›½ç«™) ä¹Ÿä¸æ”¯æŒç”¨æˆ·åå¯†ç ç™»å½•.

## è¿›é˜¶ç”¨æ³•

1. template ç›¸å…³
  
    `leetgo` çš„é…ç½®ä¸­æœ‰è®¸å¤šæ”¯æŒ Go templateï¼Œå¦‚æœä½ ç†Ÿæ‚‰ Go template è¯­æ³•çš„è¯ï¼Œå¯ä»¥é…ç½®å‡ºæ›´åŠ ä¸ªæ€§åŒ–çš„æ–‡ä»¶åå’Œä»£ç æ¨¡æ¿ã€‚

2. Blocks

    å¯ä»¥ç”¨ blocks æ¥è‡ªå®šä¹‰ä»£ç ä¸­çš„ä¸€äº›éƒ¨åˆ†ï¼Œç›®å‰æ”¯æŒçš„ block æœ‰ï¼š
    - header
    - description
    - title
    - beforeMarker
    - beforeCode
    - code
    - afterCode
    - afterMarker
    
    ç¤ºä¾‹ï¼š
    ```yaml
    code:
    lang: cpp
    cpp:
      blocks:
      - name: beforeCode
        template: |
          #include <iostream>
          using namespace std;
      - name: afterMarker
        template: |
          int main() {}
     ```

3. Script

    `leetgo` æ”¯æŒè‡ªå®šä¹‰ä¸€ä¸ª JavaScript è„šæœ¬æ¥å¤„ç†å‡½æ•°ä»£ç ï¼Œç¤ºä¾‹ï¼š
    ```yaml
    code:
      lang: cpp
      cpp:
        modifiers:
        - name: removeUselessComments
        - script: |
            function modify(code) {
              return "// hello world\n" + code;
            } 
    ```

## FAQ

å¦‚æœä½ åœ¨ä½¿ç”¨ä¸­é‡åˆ°äº†é—®é¢˜ï¼Œå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ `DEBUG=1` æ¥å¯åŠ¨ Debug æ¨¡å¼ï¼Œç„¶åå†è¿è¡Œ `leetgo`ï¼Œæ¯”å¦‚ `DEBUG=1 leetgo test last`ã€‚

Debug æ¨¡å¼ä¸‹ `leetgo` ä¼šè¾“å‡ºè¯¦ç»†çš„æ—¥å¿—ï¼Œè¯·å¤åˆ¶è¿™äº›æ—¥å¿—ï¼Œå¹¶ä¸”é™„å¸¦ `leetgo config` çš„è¾“å‡ºï¼Œå‘æˆ‘ä»¬æäº¤ä¸€ä¸ª issueï¼Œè¿™å¯¹äºæˆ‘ä»¬å®šä½é—®é¢˜è‡³å…³é‡è¦ã€‚

ä¸€äº›å¸¸è§é—®é¢˜è¯·å‚è€ƒ [Q&A](https://github.com/j178/leetgo/discussions/categories/q-a)ã€‚

## æ¬¢è¿è´¡çŒ®ä»£ç 

æ¬¢è¿å¤§å®¶å‚ä¸è¿™ä¸ªé¡¹ç›®çš„å¼€å‘ï¼Œå¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•å¼€å§‹ï¼Œè¿™äº› [Good first issues](https://github.com/j178/leetgo/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22) æ˜¯å¾ˆå¥½çš„èµ·æ­¥ç‚¹ï¼Œ
ä½ ä¹Ÿå¯ä»¥çœ‹çœ‹è¿™äº› [help wanted](https://github.com/j178/leetgo/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22) issuesã€‚

æäº¤å‰è¯·ä½¿ç”¨ `golangci-lint run --fix` æ¥ä¿®å¤ä»£ç æ ¼å¼é—®é¢˜ã€‚

## è‡´è°¢

åœ¨ `leetgo` çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸‹é¢è¿™äº›é¡¹ç›®ä¸ºæˆ‘æä¾›äº†è®¸å¤šçµæ„Ÿå’Œå‚è€ƒï¼Œæ„Ÿè°¢ä»–ä»¬ :heart:

- https://github.com/EndlessCheng/codeforces-go
- https://github.com/clearloop/leetcode-cli
- https://github.com/budougumi0617/leetgode
- https://github.com/skygragon/leetcode-cli

[^1]: ä½¿ç”¨ Safari çš„ç”¨æˆ·æ³¨æ„ï¼Œä½ éœ€è¦èµ‹äºˆä½¿ç”¨ `leetgo` çš„ç»ˆç«¯ App `å…¨ç›˜è®¿é—®`çš„æƒé™ã€‚
